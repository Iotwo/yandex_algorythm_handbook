(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[397],{32147:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QUERY_FEATURE_NAME=t.YNDX_COOKIE_FEATURE_FLAGS=void 0,t.YNDX_COOKIE_FEATURE_FLAGS="yndx_feature_flags",t.QUERY_FEATURE_NAME="feature"},20091:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFeature=void 0;var r=n(12913);t.useFeature=function(e){var t=(0,r.useAppData)().features;return!!((void 0===t?0:t)&e)}},78738:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(20091),t),o(n(59434),t),o(n(32147),t)},59434:function(e,t){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.ClientFeatures=void 0,(r=n||(t.ClientFeatures=n={}))[r.SHOW_MESSAGES_MENU_ITEM=1]="SHOW_MESSAGES_MENU_ITEM",r[r.USE_HTML_STATEMENTS=2]="USE_HTML_STATEMENTS",r[r.USE_NEW_SUBMISSION_API=4]="USE_NEW_SUBMISSION_API"},17731:function(e,t){"use strict";var n,r;t.C=void 0,(r=n||(t.C=n={})).QUESTION="QUESTION",r.CLARIFICATION="CLARIFICATION"},13602:function(e,t,n){"use strict";n.d(t,{Nt:function(){return d},vD:function(){return h}});var r=n(98116),o=n(4190),i=n(51717),s=n(99712),a=n(41365),l=n(82451),c=n(85170),u="/src/client/screens/mainPage/models/problemNavigation.ts",d=(0,o.Bq)({and:[],or:{loc:{file:u,line:17,column:28},name:"MainPageGate",sid:"-nnig6t"}}),f=function(e){var t,n,r=(0,s.P)(null==e?void 0:e.tab);return{problemId:null!==(t=(0,s.P)(null==e?void 0:e.id))&&void 0!==t?t:null,tab:Object.values(l.YC).includes(r)?r:l.YC.Description,submissionId:null!==(n=(0,s.P)(null==e?void 0:e.submissionId))&&void 0!==n?n:null}},h=(0,a.c)(function(){var e=(0,r.yM)({loc:{file:u,line:30,column:29},name:"activeTabChanged",sid:"-dzvw63"}),t=(0,r.yM)({loc:{file:u,line:31,column:38},name:"activeSubmissionIdChanged",sid:"gb2lpk"}),n=(0,r.MT)(f({}),{loc:{file:u,line:33,column:37},name:"$activeProblemNavigation",sid:"8dn9vt"}),o=(0,r.MR)({sid:"-y6o27",fn:function(){return(0,i.X)({source:n,shape:{$activeProblemId:function(e){return e.problemId},$activeTab:function(e){return e.tab},$activeSubmissionId:function(e){return e.submissionId}}})},name:"_reshape",method:"reshape",loc:{file:u,line:35,column:66}}),s=o.$activeProblemId,a=o.$activeTab,h=o.$activeSubmissionId;return(0,r.UP)({and:[{clock:e,fn:function(e){return{query:{tab:e===l.YC.Description?null:e,submissionId:null},updateType:"replace",shallow:!0}},target:c.navigationModel.updateQueryFx}],or:{loc:{file:u,line:44,column:4},sid:"hf0ew2"}}),(0,r.UP)({and:[{clock:t,fn:function(e){return{query:{submissionId:e},updateType:"push",shallow:!0}},target:c.navigationModel.updateQueryFx}],or:{loc:{file:u,line:61,column:4},sid:"ibg9wd"}}),(0,r.UP)({and:[{clock:c.navigationModel.$query,source:d.status,fn:function(e,t){return f(t)},target:n}],or:{loc:{file:u,line:75,column:4},sid:"iup2o0"}}),{activeTabChanged:e,activeSubmissionIdChanged:t,$activeProblemNavigation:n,$activeProblemId:s,$activeTab:a,$activeSubmissionId:h}})},82451:function(e,t,n){"use strict";n.d(t,{Jh:function(){return s},YC:function(){return o},aK:function(){return a},bx:function(){return i}});var r,o=((r={}).Description="description",r.Submissions="submissions",r),i=function(e){return{type:"markdown",content:null!=e?e:""}},s=function(e){return{type:"html",content:null!=e?e:""}};function a(e){return"html"===e.type}},15654:function(e,t,n){"use strict";n.d(t,{Tab:function(){return j},TabList:function(){return _},TabPanel:function(){return M},TabPanels:function(){return C},TabSet:function(){return v},TabsMenu:function(){return u.TabsMenu},TabsMenuItem:function(){return d}});var r=n(4730),o=n(59499),i=n(67294),s=n(55938),a=(0,i.createContext)({}),l=n(81765),c=n(58421),u=n(42446),d=c.TabsMenuItem,f=n(11832),h=n.n(f),m=n(85893),p=["tab","strategy","children"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=(0,s.cn)("TabSet",h());function v(e){var t=e.as,n=e.activeTab,r=e.onChange,o=e.className,s=e.marker,l=e.children,c=(0,i.useMemo)(function(){return{activeTab:n,onChange:r,marker:s}},[n,s,r]);return(0,m.jsx)(a.Provider,{value:c,children:(0,m.jsx)(void 0===t?"div":t,{className:y(null,[o]),children:l})})}var _=function(e){var t=e.children,n=e.className,r=(0,i.useContext)(a),o=r.activeTab,s=r.onChange,c=r.marker,f=(0,i.useMemo)(function(){return i.Children.map(t,function(e){if(!(0,i.isValidElement)(e))throw TypeError("TabList accepts only a list of Tab components");var t,n=e.props,r=null!==(t=n.view)&&void 0!==t?t:"default";return{id:n.id,className:(0,l.cnTabsMenu)("Tab",{view:r},[n.className]),content:(0,m.jsx)(d,{icon:n.icon,status:n.status,children:n.children}),onClick:function(e){return null==s?void 0:s(n.id,e)},"aria-controls":"tab-".concat(n.id)}})},[t,s]);return(0,m.jsx)(u.TabsMenu,{className:n,activeTab:o,tabs:null!=f?f:[],layout:"horiz",marker:void 0===c||c,size:"m"})},j=function(){return null},C=function(e){return(0,m.jsx)("div",g({},e))},M=function(e){var t=e.tab,n=e.strategy,o=e.children,s=(0,r.Z)(e,p),l=(0,i.useContext)(a).activeTab===t;return(0,m.jsx)("div",g(g({role:"tabpanel",tabIndex:l?0:-1,"aria-labelledby":"tab-".concat(t),style:{display:l?void 0:"none"}},s),{},{children:l||"active"!==n?o:void 0}))}},54515:function(e,t,n){"use strict";n.d(t,{D:function(){return h}});var r=n(59499),o=n(4730),i=n(67294),s=n(97966),a=n(85893),l=["isDesktop","trigger"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=[],f=["hover"],h=function(e){var t=e.isDesktop,n=void 0===t||t,r=e.trigger,c=(0,o.Z)(e,l),h=(0,i.useId)(),m=(0,i.useMemo)(function(){return r||(n?f:d)},[n,r]);return(0,a.jsx)(s.TooltipStateful,u(u({id:h,size:"l",direction:"bottom",hasTail:!0,trigger:m},c),{},{children:c.children}))}},75397:function(e,t,n){"use strict";n.d(t,{s:function(){return ne}});var r,o={};n.r(o),n.d(o,{en:function(){return q},ru:function(){return Q}});var i={};n.r(i),n.d(i,{en:function(){return er},ru:function(){return eo}});var s={};n.r(s),n.d(s,{en:function(){return tg},ru:function(){return ty}});var a={};n.r(a),n.d(a,{en:function(){return tT},ru:function(){return tN}});var l=n(59499),c=n(4730),u=n(67294),d=n(55938),f=n(4190),h=n(93103),m=n(11163),p=n(78738),b=n(54955),g=n(13602),y=n(42838),v=n(29549),_=n(72064),j=n(21536),C=n(94701),M=n(68958),O=n(68994),x=n(30381),P=(0,x.k)({ru:{fullLabel:"Завершить соревнование",shortLabel:"Завершить"},en:{fullLabel:"Complete the competition",shortLabel:"Finish"}}),T=n(91002),N=n.n(T),w=n(85893),S=["finish","className"];function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var D=(0,d.cn)("FinishButton",N()),k=function(e){return(0,w.jsx)(O.IconFinish,{className:e,size:"m"})},E=function(e){var t=e.finish,n=e.className,r=(0,c.Z)(e,S);return(0,w.jsxs)(M.z,I(I({view:"secondary",size:"m"},r),{},{onClick:t,icon:k,className:D(null,[n]),children:[(0,w.jsx)("span",{className:D("FullLabel"),children:P("fullLabel")}),(0,w.jsx)("span",{className:D("ShortLabel"),children:P("shortLabel")})]}))},L=n(77574),R="notificationsIds",z=function(e){e&&L.IS_CLIENT&&localStorage.setItem(R,e)},$=function(){if(L.IS_CLIENT){var e;return null!==(e=localStorage.getItem(R))&&void 0!==e?e:void 0}return""},H=n(97966),A=n(74770),U=n.n(A),Y=(0,d.cn)("Circle",U()),Z=function(e){var t=Y(null,[e.className]);return(0,w.jsx)("div",{className:t})},J=n(33559),B=n.n(J),V=n(85534),W=n(93766),G=n(8135),q={jury:"Jury"},Q={jury:"Жюри"},X=n(80922),K=n.n(X),ee=B()(o),et=(0,d.cn)("JuryNotificationMessage",K()),en=function(e){var t=e.messageData,n=e.className,r=t.date,o=t.time,i=t.message,s=t.subject,a=(0,u.useMemo)(function(){return r&&o},[r,o]),l=et(null,[n]);return(0,w.jsxs)("div",{className:l,children:[(0,w.jsxs)("header",{className:et("Header"),children:[(0,w.jsxs)(G.Text,{typography:"labelS",weight:"medium",children:[ee("jury"),s&&": ".concat(s)]}),a&&(0,w.jsxs)(G.Text,{typography:"labelS",weight:"regular",color:"secondary",children:[r," • ",o]})]}),(0,w.jsx)("main",{children:(0,w.jsx)(G.Text,{typography:"bodyS",weight:"regular",children:i})})]})},er={noNotifications:"No notifications"},eo={noNotifications:"Нет объявлений"},ei=n(88356),es=n.n(ei),ea=B()(i),el=(0,d.cn)("JuryNotificationsPopup",es()),ec=function(e){var t=e.onClose,n=e.anchor,r=e.visible,o=(0,f.eY)(_.s.$juryNotifications),i=(0,u.useMemo)(function(){return o?o.length?o.map(function(e){return(0,w.jsx)(en,{messageData:e,className:el("Message")},e.id)}):(0,w.jsx)(G.Text,{className:el("EmptyMessagesText"),typography:"bodyS",weight:"regular",children:ea("noNotifications")}):null},[o]);return(0,w.jsx)(V.G,{className:el(),anchor:n,visible:r,onClose:t,scope:"inplace",direction:"bottom-end",target:"anchor",children:i||(0,w.jsx)(W.Skeleton,{size:"l",type:"text",style:{height:60}})})},eu=(0,x.k)({ru:{label:"Объявления"},en:{label:"Notifications"}}),ed=n(57301),ef=n.n(ed),eh=(0,d.cn)("JuryNotifications",ef()),em=function(e){return(0,w.jsx)(O.IconNotifications,{size:"m",className:e})},ep=function(){var e=(0,f.eY)(_.s.$juryNotifications),t=(0,f.eY)(_.s.juryNotificationsEnabledChanged),n=(0,f.K3)(_.s.$juryNotifications,function(e){return null==e?void 0:e.map(function(e){return e.id.toString()})}),r=(0,u.useRef)(null),o=(0,u.useState)(!1),i=o[0],s=o[1],a=(0,u.useState)(!1),l=a[0],c=a[1],d=(0,u.useCallback)(function(){z(n?null==n?void 0:n.join(","):n),c(!1),s(function(e){return!e})},[n,s]),h=(0,u.useCallback)(function(){s(!1)},[s]);return((0,u.useEffect)(function(){var e=$(),t=e?e.split(","):[];c(!!(null==n?void 0:n.find(function(e){return!t.includes(e)})))},[n]),(0,u.useEffect)(function(){t(!0)},[]),e&&e.length)?(0,w.jsxs)("div",{ref:r,className:eh("Wrapper"),children:[l&&(0,w.jsx)(Z,{className:eh("Circle")}),(0,w.jsx)(H.TooltipStateful,{id:"jury-notifications-tooltip",size:"s",direction:"bottom",hasTail:!0,content:eu("label"),trigger:"hover",children:(0,w.jsx)(M.z,{view:"ghost",size:"m",icon:em,onClick:d})}),(0,w.jsx)(ec,{anchor:r,visible:i,onClose:h})]}):null},eb=n(72960),eg=n(89715),ey=n(56306),ev=n(54515),e_=n(16835),ej=n(86290),eC=(0,x.k)({en:{days:{one:"{count} day",some:"{count} days",many:"{count} days",none:""},hours:"{count} hr",minutes:"{count} min",months:"{count} mo",outOfLabel:"{current} left",seconds:"{count} sec",years:{one:"{count} yr",some:"{count} yr",many:"{count} yr",none:""}},ru:{days:{one:"{count} д",some:"{count} д",many:"{count} д",none:""},hours:"{count} ч",minutes:"{count} мин",months:"{count} мес",outOfLabel:"Осталось {current}",seconds:"{count} с",years:{one:"{count} г",some:"{count} л",many:"{count} л",none:""}}}),eM=function(e){return("0"+e).slice(-2).split("")},eO=["hours","minutes","seconds"],ex=["years","months","days"].concat(eO),eP=function(e,t){if(t)return ex;var n=[];return ex.forEach(function(t){e[t]&&n.length<2&&"seconds"!==t&&n.push(t)}),n},eT=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,ej.Z)({start:0,end:e}),r=eP(n,t);return Object.entries(n).map(function(e){var n=(0,e_.Z)(e,2),o=n[0],i=n[1];if((!i||!r.includes(o))&&!t)return"";var s=eO.includes(o);if(!i&&!s)return"";var a=i.toString();return s&&(a=("0"+i).slice(-2)),eC(o,{count:a})}).filter(Boolean).join(" ")},eN=n(56579),ew=n.n(eN),eS=["time"];function eF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eF(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eD=(0,d.cn)("Duration",ew()),ek=function(e){var t=e.time,n=(0,c.Z)(e,eS);return(0,w.jsxs)("div",{className:eD("Time"),children:[(0,w.jsx)(G.Text,eI(eI({},n),{},{className:eD("Slot"),children:eM(Math.floor(t/36e5)).map(function(e,t){return(0,w.jsx)("span",{children:e},t)})})),(0,w.jsx)(G.Text,eI(eI({},n),{},{children:":"})),(0,w.jsx)(G.Text,eI(eI({},n),{},{className:eD("Slot"),children:eM(Math.floor(t/6e4)%60).map(function(e,t){return(0,w.jsx)("span",{children:e},t)})})),(0,w.jsx)(G.Text,eI(eI({},n),{},{children:":"})),(0,w.jsx)(G.Text,eI(eI({},n),{},{className:eD("Slot"),children:eM(Math.floor(t/1e3)%60).map(function(e,t){return(0,w.jsx)("span",{children:e},t)})}))]})};function eE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eE(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eR=(0,d.cn)("Duration",ew()),ez=function(e){var t=e.remainingTime,n=e.className,r=e.size,o=e.weight,i=(0,ey.a)(ey.i.VIEWPORT_TABLET_MEDIUM),s=t?eC("outOfLabel",{current:eT(t,!0)}):"",a={typography:"s"===r?"bodyS":"labelM",weight:void 0===o?"regular":o},l=(0,u.useRef)(L.IS_CLIENT?document.body:null);return(0,w.jsx)(ev.D,{content:s,disabled:!s,isDesktop:!i,trigger:"hover",boundary:l,children:(0,w.jsxs)("div",{className:eR({size:r},[n]),children:[null===t&&(0,w.jsx)(W.Skeleton,{size:"s",type:"text",className:eR("Skeleton")}),null!==t&&(t<864e5?(0,w.jsx)(ek,eL({time:t},a)):(0,w.jsx)(G.Text,eL(eL({maxVisibleLines:1},a),{},{children:eT(t)})))]})})},e$=n(5809),eH=n.n(e$),eA=["withIcon","className"];function eU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var eY=(0,d.cn)("Timer",eH()),eZ=(0,u.forwardRef)(function(e,t){var n=e.withIcon,r=e.className,o=(0,c.Z)(e,eA),i=(0,f.eY)(h.CX.$contestStatus),s=(0,f.eY)(h.ij.$remainingTime);return i&&(0,v.h)(i)?null:(0,w.jsxs)("div",{className:eY(null,[r]),ref:t,children:[n&&(0,w.jsx)(O.IconTimer,{className:eY("Icon"),size:"m"}),(0,w.jsx)(ez,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eU(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({remainingTime:s},o))]})}),eJ=n(71173),eB=n(12913),eV=n(91507),eW=n(24172),eG=n(60567),eq=n(3271),eQ=n(15654),eX=n(64700),eK=n(41664),e0=n.n(eK),e1=n(49209),e2=n(50199),e3=n.n(e2),e9=(0,d.cn)("ContestMenu",e3()),e4=function(e){return e.map(function(e){var t=(0,w.jsx)(eQ.TabsMenuItem,{children:e.name});return e.count&&(t=(0,w.jsx)(eQ.TabsMenuItem,{status:(0,w.jsx)(e1.V,{color:"default",size:"s",text:e.count>99?"".concat(99,"+"):e.count}),children:e.name})),{content:t="internal"===e.type?(0,w.jsx)(e0(),{href:e.href,className:e9("Link"),children:(0,w.jsx)(eG.r,{as:"span",theme:"text",children:t})}):(0,w.jsx)(eG.r,{href:e.href,target:"_blank",theme:"text",className:e9("Link"),children:t}),id:e.id}})},e5=(0,d.cn)("ContestMenu",e3()),e7=function(e){var t=e.activeTab,n=e.title,r=e.className,o=e.tabsRef,i=e.baseTabs,s=e.moreTabsNode,a=e.hidden,l=e4(i);return(0,w.jsxs)("div",{className:e5({hidden:a},[r]),"aria-hidden":a,children:[(0,w.jsx)(G.Text,{typography:"bodyS",weight:"medium",maxVisibleLines:1,className:e5("Title"),title:n,children:n}),(0,w.jsx)("span",{className:e5("Divider")}),(0,w.jsxs)("nav",{className:e5("Nav",{overflow:i.length?"hidden":"visible"}),ref:o,children:[(0,w.jsx)(eQ.TabsMenu,{className:e5("TabsMenu"),activeTab:t,size:"s",layout:"horiz",marker:!0,tabs:l}),s]})]})},e6=n(86388),e8=function(e){var t=e.allTabs,n=e.isMobile,r=(0,u.useState)(!1),o=r[0],i=r[1],s=(0,u.useState)(t),a=s[0],l=s[1],c=(0,u.useState)([]),d=c[0],f=c[1],h=(0,u.useRef)(null),m=(0,u.useRef)(null),p=(0,u.useCallback)(function(){if(m.current){var e=m.current;e.scrollWidth>e.offsetWidth&&a.length>1?l(a.slice(0,-1)):(f(a),i(!0))}},[a]);(0,u.useEffect)(function(){p()},[p]);var b=(0,u.useCallback)(function(){if(n){f(t);return}l(t.slice())},[t,n]);(0,u.useEffect)(function(){b()},[t,b]),(0,e6.Z)({ref:h,onResize:b});var g=(0,u.useMemo)(function(){return t.slice(d.length)},[t,d]);return{headerRef:h,hiddenTabsRef:m,hiddenTabs:a,adaptedTabs:d,moreTabs:g,isInit:o}},te=((r={}).messages="messages",r.onlyAnnouncement="onlyAnnouncement",r),tt=(0,x.k)({ru:{announcement:"Объявления",compilers:"Компиляторы",errors:"Коды ошибок",messages:"Сообщения",more:"Ещё",problems:"Задачи",standings:"Лидерборд",testContest:"Пробный контест"},en:{announcement:"Announcements",compilers:"Compilers",errors:"Error codes",messages:"Messages",more:"More",problems:"Problems",standings:"Standings",testContest:"Trial contest"}});function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var to=(0,d.cn)("ContestMenu",e3()),ti=function(e){var t,n,r=e.title,o=e.className,i=e.testContestId,s=e.hasMobileBack,a=e.visibilityStandings,l=e.messageMode,c=e.showMessagesMenuItem,d=e.contestId,f=e.pathname,h=e.messagesCount,m=(0,ey.a)(ey.i.VIEWPORT_TABLET_SMALL),p=(0,eV.useLang)(),g=(0,eB.useAppData)().oldContestInterface,y=(0,u.useMemo)(function(){var e=(null==g?void 0:g.defaultUrl)||"",t=[{type:"internal",id:"problems",name:tt("problems"),href:(0,b.xL)(null!=d?d:""),pathnameTemplates:[b.Sq]}];return a&&t.push({type:"external",id:"standings",name:tt("standings"),href:(0,b.iG)(e,d,p)}),l===te.messages&&c?t.push({type:"internal",id:"messages",name:tt("messages"),href:(0,b.iN)(null!=d?d:""),pathnameTemplates:[b.sc],count:h}):c&&t.push({type:"internal",id:"announcement",name:tt("announcement"),href:(0,b.iN)(null!=d?d:""),pathnameTemplates:[b.sc],count:h}),i&&t.push({type:"external",id:"testContest",name:tt("testContest"),href:(0,b.OE)(i)}),t.push({type:"external",id:"errors",name:tt("errors"),href:"".concat(e,"/errors?lang=").concat(p)},{type:"external",id:"compilers",name:tt("compilers"),href:"".concat(e,"/compilers?lang=").concat(p)}),t},[d,l,a,i,g,h,p,c]),v=e8({allTabs:y,isMobile:m}),_=v.headerRef,j=v.hiddenTabsRef,C=v.hiddenTabs,M=v.adaptedTabs,x=v.moreTabs,P=v.isInit,T=(0,u.useMemo)(function(){return P&&x.length?(0,w.jsx)(eq.Z,{scope:_,theme:"link",items:x.map(function(e){return tr(tr({},e),{},{target:"external"===e.type?"_blank":"_self"})}),label:tt("more"),className:to("MoreLink")},"more"):null},[x,_,P]),N=(0,u.useMemo)(function(){return C.length<y.length?(0,w.jsx)(eG.r,{theme:"text",className:to("Link"),as:"button",children:tt("more")}):null},[C,y]),S=(0,u.useState)(!1),F=S[0],I=S[1],D=(0,u.useCallback)(function(){return I(!F)},[F]),k=(0,u.useCallback)(function(){return I(!1)},[]),E=(0,u.useMemo)(function(){return e4(y)},[y]),L=null!==(t=null===(n=y.find(function(e){return"internal"===e.type&&e.pathnameTemplates.includes(f)}))||void 0===n?void 0:n.id)&&void 0!==t?t:"";return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:to({mobile:!0}),children:[s&&(0,w.jsx)(eX.T,{className:to("Back"),contestId:d}),(0,w.jsxs)("button",{className:to("Control",{hasMobileBack:s}),onClick:D,children:[(0,w.jsx)(G.Text,{typography:"bodyS",color:"primary",className:to("TextControl"),title:r,children:r}),(0,w.jsx)(O.IconArrowShortDown,{className:to("IconControl",{visible:F})})]}),(0,w.jsx)(eW.dy,{direction:"bottom",visible:F,onClose:k,children:(0,w.jsxs)("div",{className:to("DrawerContent"),children:[(0,w.jsx)(G.Text,{typography:"bodyM",color:"primary",className:to("DrawerTitle"),title:r,children:r}),(0,w.jsx)(eQ.TabsMenu,{className:to("DrawerTabsMenu"),size:"s",tabs:E,onChange:k})]})})]}),(0,w.jsxs)("div",{className:to("DesktopContainer",{initialization:!P}),ref:_,children:[(0,w.jsx)(e7,{className:o,title:r,activeTab:L,hidden:!0,tabsRef:j,baseTabs:C,moreTabsNode:N}),(0,w.jsx)(e7,{className:o,title:r,activeTab:L,baseTabs:P?M:[],moreTabsNode:T})]})]})},ts=n(13589),ta=n.n(ts),tl=["finish","className"];function tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tc(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var td=(0,d.cn)("ContestHeader",ta()),tf=function(e){var t,n,r,o=e.finish,i=e.className,s=(0,c.Z)(e,tl),a=(0,m.useRouter)().pathname,l=(0,f.eY)(h.CX.$contestId),u=(0,f.eY)(g.vD.$activeProblemId),d=(0,f.eY)(h.CX.$contest),M=(0,f.eY)(_.s.$chatMessages),O=(0,p.useFeature)(p.ClientFeatures.SHOW_MESSAGES_MENU_ITEM),x=d?null===(t=d.visibilities)||void 0===t?void 0:t.finishButton:null,P=null!==(n=null==d||null===(r=d.participationInterfaceSettings)||void 0===r?void 0:r.testContestId)&&void 0!==n?n:null,T=(0,C.e)("horizontal"),N=T.containerRef,S=T.lastFade,F=a===b.Sq&&!!u;return(0,w.jsxs)("header",tu(tu({className:td(null,[i])},s),{},{children:[(0,w.jsxs)("div",{className:td("Content"),children:[(0,w.jsx)(y.O,{href:(0,b.xL)(null!=l?l:""),size:"full",serviceLogoClassName:td("ServiceLogo")}),(0,w.jsxs)("div",{className:td("Widgets"),children:[(0,w.jsx)(eZ,{ref:N,className:td("Timer",{fader:S}),size:"s",withIcon:!0}),x&&(0,w.jsx)(E,{finish:o}),(0,w.jsxs)("div",{className:td("Actions"),children:[!O&&(0,w.jsx)(ep,{}),(0,w.jsx)(eg.O,{}),(0,w.jsx)(eb.k,{theme:"button",hideLabelOnMobile:!0})]}),(0,w.jsx)(eJ.I,{})]})]}),(0,w.jsx)(ti,{className:td("Menu"),title:(0,v.g)(d),contestId:null!=l?l:"",messageMode:null!=d&&d.visibilities.messages?te.messages:te.onlyAnnouncement,showMessagesMenuItem:O,visibilityStandings:null==d?void 0:d.monitorVisible,testContestId:null!=P?P:null,pathname:a,hasMobileBack:F,messagesCount:(0,j.k)(M)})]}))},th=n(61850),tm=n(67620),tp=n(7219),tb=n(8308),tg={byProblemsCountType:"problems",byScoreType:"points",maxPointsTooltip:"And you have scored maximum points!",notMaxPointsTooltip:"Don't stop there!",passedThresholdTooltip:"Congratulations! You have passed to the next stage.",unpassedThresholdTooltip:{one:"Get {count} point to get to the next stage.",some:"Get {count} points to get to the next stage.",many:"Get {count} points to get to the next stage.",none:""}},ty={byProblemsCountType:"задач",byScoreType:"баллов",maxPointsTooltip:"И\xa0набрали максимум баллов!",notMaxPointsTooltip:"Не\xa0останавливайтесь на\xa0достигнутом!",passedThresholdTooltip:"Поздравляем! Вы прошли на\xa0следующий этап.",unpassedThresholdTooltip:{one:"Наберите {count}\xa0балл, чтобы пройти на\xa0следующий этап.",some:"Наберите {count}\xa0балла, чтобы пройти на\xa0следующий этап.",many:"Наберите {count}\xa0баллов, чтобы пройти на\xa0следующий этап.",none:""}},tv=n(81007),t_=n.n(tv),tj=B()(s),tC=(0,d.cn)("RadialProgress",t_()),tM=function(e){var t,n,r,o,i,s=e.totalValue,a=e.radius,l=e.barWidth,c=e.currentValue,d=void 0===c?0:c,f=e.thresholdValue,h=e.scoreType,m=e.className,p=(0,u.useState)(!1),b=p[0],g=p[1],y=h===tb.M.byMaxScore,v=Number.isInteger(d)?d:d.toFixed(1),_=(n=(t={thresholdValue:f,currentValue:d,totalValue:s}).thresholdValue,r=t.currentValue,o=t.totalValue,i=n&&r>=n?tj("passedThresholdTooltip"):tj("unpassedThresholdTooltip",{count:n}),0===r?i:r>=o?i+" "+tj("maxPointsTooltip"):i+" "+tj("notMaxPointsTooltip")),j=(0,u.useMemo)(function(){var e=f&&f>0?f/s*360+-90:0;return{height:"".concat(l,"px"),transform:"translateY(-50%) rotate(".concat(e,"deg)")}},[f,s,l]),C=(0,u.useMemo)(function(){return{left:"calc(100% - ".concat(1.5*l,"px)"),width:"".concat(l,"px"),height:"".concat(l,"px")}},[l]),M=(0,u.useMemo)(function(){return tO(b?d:0,s,a,l)},[b,d,s,a,l]),O=M.radiusCircle,x=M.strokeDashoffset,P=M.strokeDasharray;(0,u.useEffect)(function(){g(!0)},[]);var T=tC("Wrapper",[m]);return(0,w.jsxs)("div",{className:T,style:{width:"".concat(2*a,"px"),height:"".concat(2*a,"px")},children:[(0,w.jsxs)("div",{className:tC("Outer"),children:[(0,w.jsxs)("div",{className:tC("Value"),children:[(0,w.jsxs)(G.Text,{typography:"labelM",weight:"medium",color:"primary",children:[v," / ",s]}),(0,w.jsx)(G.Text,{typography:"labelM",weight:"medium",color:"primary",children:y?tj("byScoreType"):tj("byProblemsCountType")})]}),(0,w.jsxs)("svg",{className:tC("GradientSvg"),xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",children:[(0,w.jsx)("defs",{children:(0,w.jsxs)("linearGradient",{id:"gradient",children:[(0,w.jsx)("stop",{offset:"0%",stopColor:"#FF9900"}),(0,w.jsx)("stop",{offset:"100%",stopColor:"#FFCB00"})]})}),(0,w.jsx)("circle",{className:tC("GradientBackground"),cx:a,cy:a,r:O,strokeWidth:l}),(0,w.jsx)("circle",{className:tC("GradientCircle"),cx:a,cy:a,r:O,strokeWidth:l,strokeDasharray:P,strokeDashoffset:x})]})]}),!!f&&y&&(0,w.jsx)("div",{className:tC("ThresholdSource"),style:j,children:(0,w.jsx)(H.TooltipStateful,{keepMounted:!0,size:"l",trigger:"hover",direction:"bottom",hasTail:!0,className:tC("Tooltip"),content:_,children:(0,w.jsx)("div",{className:tC("Threshold"),style:C})})})]})},tO=function(e,t,n,r){var o=n-r,i=2*Math.PI*o;return{radiusCircle:o,strokeDasharray:i,strokeDashoffset:(100-(e/t*100||0))/100*i}},tx=n(84214),tP=n(12800),tT={continue:"Continue",earlyFinishSubtitle:"Your current score",earlyFinishSubtitleICPC:'After pressing "finish" you will not be able to come back to the competition.',earlyFinishTitle:"Do you want to complete?",finish:"Finish",finishSubtitle:"Your result:",finishTitle:"Time is up",finishTitleSubtitle:"Your score:",noSolvedProblems:"Not solved:",partiallySolvedProblems:"Partially solved:",problemsTitle:"Problems",solvedProblems:"Solved completely:",solvedProblemsICPC:"Solved problems:",timeLabel:"Time left",wrongProblems:"Solved incorrectly:"},tN={continue:"Продолжить",earlyFinishSubtitle:"Ваш текущий результат:",earlyFinishSubtitleICPC:"После завершения вы не сможете вернуться к соревнованию.",earlyFinishTitle:"Хотите завершить?",finish:"Завершить",finishSubtitle:"Ваш результат:",finishTitle:"Время вышло",finishTitleSubtitle:"",noSolvedProblems:"Не решены: ",partiallySolvedProblems:"Решены частично: ",problemsTitle:"Задачи",solvedProblems:"Решены полностью: ",solvedProblemsICPC:"Решены верно: ",timeLabel:"Осталось времени",wrongProblems:"Решены неверно: "},tw=n(41602),tS=n.n(tw),tF=["isOpen","onClose","isEarlyFinish","className"];function tI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tI(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tk=(0,d.cn)("FinishModal",tS()),tE=tk("Inner"),tL=tk("Header"),tR=tk("Title"),tz=tk("Subtitle"),t$=tk("CloseButton"),tH=tk("Content"),tA=tk("Progress"),tU=tk("ContentTitle"),tY=tk("Table"),tZ=tk("Row"),tJ=tk("RowLabel"),tB=tk("TimeLeft"),tV=tk("Footer"),tW=tk("FooterItem"),tG=tk("Header",{interface:"ICPC"}),tq=tk("Inner",{interface:"ICPC"}),tQ=tk("Content",{interface:"ICPC"}),tX=tk("Table",{interface:"ICPC"}),tK=tk("Row",{interface:"ICPC"}),t0=tk("Footer",{interface:"ICPC"}),t1=B()(a),t2=function(e){return(0,w.jsx)(O.IconClose,{size:"m",className:e})},t3=function(e){var t,n=e.isOpen,r=e.onClose,o=e.isEarlyFinish,i=e.className,s=(0,c.Z)(e,tF),a=(0,m.useRouter)().push,l=(0,f.eY)(h.CX.$contestId),d=(0,f.eY)(tx.vV),p=(0,f.eY)(h.$q.$problemsStat),g=(0,f.eY)(h.$q.$problemsScore),y=(0,f.eY)(h.CX.$contest),v=(0,f.eY)(h.CX.$contestStatus),_=(0,f.eY)(h.CX.$participationInterfaceType),j=(0,tm.R6)(_),C=(0,tm.No)(_),O=null!==(t=null==v?void 0:v.duration)&&void 0!==t?t:null,x=y&&(0,tm.wT)(y)&&Number(y.participationInterfaceSettings.eventThresholdScore)||0,P=(0,u.useCallback)(function(){a((0,b.ib)(null!=l?l:""))},[l,a]),T=tk(null,[i]);return(0,w.jsx)(tp.Modal,tD(tD({className:T,visible:n,onClose:r},s),{},{children:(0,w.jsxs)("div",{className:j?tq:tE,children:[(0,w.jsxs)("div",{className:j?tG:tL,children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{className:tR,children:(0,w.jsx)(G.Text,{weight:"medium",children:t1(o?"earlyFinishTitle":"finishTitle")})}),(0,w.jsx)("div",{className:tz,children:(0,w.jsx)(G.Text,{typography:"labelM",weight:"regular",color:"secondary",children:t1(o?j?"earlyFinishSubtitleICPC":"earlyFinishSubtitle":"finishSubtitle")})}),j&&o&&(0,w.jsx)("div",{className:tz,children:(0,w.jsx)(G.Text,{typography:"labelM",weight:"regular",color:"secondary",children:t1("earlyFinishSubtitle")})})]}),o&&(0,w.jsx)(M.z,{className:t$,view:"ghost",size:"m",icon:t2,onClick:r})]}),(0,w.jsxs)("div",{className:j?tQ:tH,children:[n&&(0,w.jsx)(tM,{scoreType:g.scoreType,currentValue:g.current,totalValue:g.max,thresholdValue:x,radius:83,barWidth:10,className:tA}),(0,w.jsx)("div",{className:tU,children:(0,w.jsxs)(G.Text,{typography:"labelM",weight:"medium",children:[t1("problemsTitle"),":"]})}),(0,w.jsxs)("div",{className:j?tX:tY,children:[(0,w.jsxs)("div",{className:j?tK:tZ,children:[(0,w.jsx)(G.Text,{typography:"labelS",weight:"regular",className:tJ,children:j?t1("solvedProblemsICPC"):t1("solvedProblems")}),(0,w.jsx)(G.Text,{typography:"labelM",weight:"medium",children:p[tP.T.solved]})]}),(0,w.jsxs)("div",{className:j?tK:tZ,children:[(0,w.jsx)(G.Text,{typography:"labelS",weight:"regular",className:tJ,children:t1("wrongProblems")}),(0,w.jsx)(G.Text,{typography:"labelM",weight:"medium",children:p[tP.T.wrong]})]}),C&&(0,w.jsxs)("div",{className:tZ,children:[(0,w.jsx)(G.Text,{typography:"labelS",weight:"regular",className:tJ,children:t1("partiallySolvedProblems")}),(0,w.jsx)(G.Text,{typography:"labelM",weight:"medium",children:p[tP.T.partiallySolved]})]}),(0,w.jsxs)("div",{className:j?tK:tZ,children:[(0,w.jsx)(G.Text,{typography:"labelS",weight:"regular",className:tJ,children:t1("noSolvedProblems")}),(0,w.jsx)(G.Text,{typography:"labelM",weight:"medium",children:p[tP.T.default]})]})]}),o&&O&&(0,w.jsxs)("div",{className:tB,children:[(0,w.jsx)(G.Text,{typography:"labelS",weight:"medium",children:t1("timeLabel")}),(0,w.jsx)(eZ,{size:"m",weight:"medium"})]})]}),(0,w.jsxs)("div",{className:j?t0:tV,children:[o&&(0,w.jsx)(M.z,{view:"ghost",size:"m",onClick:r,className:tW,children:t1("continue")}),(0,w.jsx)(M.z,{view:"primary",size:"m",className:tW,onClick:P,progress:d,children:t1("finish")})]})]})}))},t9=n(36276),t4=n.n(t9),t5=["className","children","withoutFooter"];function t7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t7(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var t8=(0,d.cn)("ContestLayout",t4()),ne=function(e){var t=e.className,n=e.children,r=e.withoutFooter,o=(0,c.Z)(e,t5);(0,f.DD)(h.Qn);var i=(0,u.useState)(!1),s=i[0],a=i[1],l=(0,f.eY)(h.ij.$isFinishContest),d=(0,u.useCallback)(function(){a(!0)},[a]);(0,u.useEffect)(function(){l&&d()},[d,l]);var m=(0,u.useCallback)(function(){l||a(!1)},[a,l]);return(0,w.jsxs)("div",t6(t6({className:t8(null,[t])},o),{},{children:[(0,w.jsxs)("div",{className:t8("Main"),children:[(0,w.jsx)(tf,{finish:d}),(0,w.jsx)("div",{className:t8("Content"),children:n}),!(void 0!==r&&r)&&(0,w.jsx)(th.q,{className:t8("Footer")})]}),(0,w.jsx)(t3,{isOpen:s,onClose:m,isEarlyFinish:!l})]}))}},64700:function(e,t,n){"use strict";n.d(t,{T:function(){return m}});var r=n(67294),o=n(41664),i=n.n(o),s=n(77574),a=n(54955),l=n(68958),c=n(68994),u=n(97966),d=(0,n(30381).k)({ru:{label:"Задачи"},en:{label:"Problems"}}),f=n(85893),h=function(e){return(0,f.jsx)(c.IconArrowLongLeft,{size:"m",className:e})},m=function(e){var t=e.contestId,n=e.className,o=(0,a.xL)(null!=t?t:""),c=(0,r.useRef)(s.IS_CLIENT?document.body:null);return(0,f.jsx)(i(),{href:o,className:n,children:(0,f.jsx)(u.TooltipStateful,{id:"all-problems-link-tooltip",size:"s",direction:"bottom",hasTail:!0,content:d("label"),trigger:"hover",scope:c,children:(0,f.jsx)(l.z,{view:"contrast",size:"m",icon:h,as:"span"})})})}},72064:function(e,t,n){"use strict";n.d(t,{s:function(){return w}});var r=n(59499),o=n(98116),i=n(77900),s=n(41365),a=n(51803),l=n(79353),c=n(64118),u=n(93103),d="/src/client/shared/models/messages/juryNotifications.ts",f=function(e){var t=(0,o.yM)({loc:{file:d,line:9,column:44},name:"juryNotificationsEnabledChanged",sid:"-90m0l3"}),n=(0,o.MT)(!1,{loc:{file:d,line:11,column:38},name:"$juryNotificationsEnabled",sid:"yrb751"}).on(t,function(e,t){return t}),r=(0,o.ub)({and:{source:u.CX.$contestId,effect:function(e){return e?(0,a.lh)(e):null}},or:{loc:{file:d,line:16,column:35},name:"getJuryNotificationsFx",sid:"qplza8"}});return(0,o.UP)({and:[{clock:[e,c.lp],source:n,filter:function(e){return e},target:r}],or:{loc:{file:d,line:27,column:4},sid:"tb0nwy"}}),{$juryNotifications:(0,o.MT)(null,{loc:{file:d,line:34,column:31},name:"$juryNotifications",sid:"9bk1hk"}).on(r.doneData,function(e,t){return null==t?void 0:t.filter(function(e){return!!e.message})}),juryNotificationsEnabledChanged:t}},h=n(76830),m=n(17731),p=n(85170),b="/src/client/shared/models/messages/readMessages.ts";function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v={id:0,answered:!1,answers:[],author:"",message:"",seen:!1,subject:null,time:0,type:m.C.QUESTION},_=function(e){var t=(0,o.MT)(new Set,{loc:{file:b,line:25,column:27},name:"$viewedAnswers",sid:"lo6up2"}),n=(0,o.MT)(v,{loc:{file:b,line:26,column:25},name:"$openMessage",sid:"qtvt8z"}),r=(0,o.yM)({loc:{file:b,line:28,column:26},name:"messageOpened",sid:"-xkepix"}),i=(0,o.yM)({loc:{file:b,line:29,column:25},name:"answerOpened",sid:"-xsz7m"}),s=(0,o.yM)({loc:{file:b,line:30,column:25},name:"messagesRead",sid:"qm5e03"}),l=(0,o.MR)({sid:"f3gw2p",fn:function(){return(0,h.D)({source:t,timeout:200})},name:"readMessages",method:"debounce",loc:{file:b,line:32,column:25}}),c=(0,o.ub)({and:{source:u.CX.$contestId,effect:function(e,t){return e?(0,a.o0)({contestId:e,messageIds:t.join()}):null}},or:{loc:{file:b,line:37,column:27},name:"readMessagesFx",sid:"-jxgwk4"}});return(0,o.UP)({and:[{clock:r,source:e,fn:function(e,t){return e.find(function(e){return e.id===t})||v},target:n}],or:{loc:{file:b,line:47,column:4},sid:"-jij35k"}}),(0,o.UP)({and:[{clock:r,fn:function(e){return{query:{message:e?String(e):void 0},updateType:"push",shallow:!0}},target:p.navigationModel.updateQueryFx}],or:{loc:{file:b,line:55,column:4},sid:"-j2l1y3"}}),(0,o.UP)({and:[{clock:n,filter:function(e){return!!(e&&!e.seen)},fn:function(e){return[null==e?void 0:e.id]},target:c}],or:{loc:{file:b,line:65,column:4},sid:"-iljfjw"}}),(0,o.UP)({and:[{clock:l,source:n,filter:function(e,t){return(null==e?void 0:e.answers.some(function(e){return!e.seen&&t.has(e.id)}))||!1},fn:function(e,t){return Array.from(t)},target:c}],or:{loc:{file:b,line:72,column:4},sid:"-i656xs"}}),(0,o.UP)({and:[{clock:c.done,source:{$chatMessages:e,$openMessage:n},fn:function(e,t){var n=e.$chatMessages,r=e.$openMessage,o=t.params;return n.map(function(e){var t=new Set(o);if(!(t.has(e.id)||e.id===(null==r?void 0:r.id)))return e;var n=e.answers.map(function(e){return y(y({},e),{},{seen:e.seen||t.has(e.id)})});return y(y({},e),{},{answers:n,seen:!0})})},target:s}],or:{loc:{file:b,line:84,column:4},sid:"-hnzzcv"}}),(0,o.UP)({and:[{clock:i,source:t,fn:function(e,t){return t.isVisible?e.add(t.id):e.delete(t.id),new Set(e)},target:t}],or:{loc:{file:b,line:111,column:4},sid:"-cgxlyy"}}),{messagesRead:s,messageOpened:r,answerOpened:i,$openMessage:n}},j=n(72801),C=(0,n(30381).k)({en:{commonError:"Something went wrong",tooMuchQuestion:"The allowed number of questions has been exceeded"},ru:{commonError:"Что-то пошло не так",tooMuchQuestion:"Превышено допустимое количество вопросов"}}),M="/src/client/shared/models/messages/sendMessages.ts";function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var x=function(){var e=(0,o.MT)("",{loc:{file:M,line:10,column:26},name:"$messageError",sid:"izr72t"}),t=(0,o.ub)({and:{source:u.CX.$contestId,effect:function(e,t){return e?(0,a.nb)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({contestId:e},t)):null}},or:{loc:{file:M,line:12,column:26},name:"sendMessageFx",sid:"p05fr3"}});return(0,o.UP)({and:[{clock:t.failData,fn:function(e){return"too-much-questions"===j.XL.from(e).type?C("tooMuchQuestion"):C("commonError")},target:e}],or:{loc:{file:M,line:30,column:4},sid:"-p3lwy8"}}),{$messageError:e,sendMessageFx:t}},P="/src/client/shared/models/messages/chatMessagesModel.ts";function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w=(0,s.c)(function(){var e=(0,o.MT)(null,{loc:{file:P,line:16,column:27},name:"$lastMessageId",sid:"-v4y7nu"}),t=(0,o.MT)([],{loc:{file:P,line:17,column:26},name:"$chatMessages",sid:"-5cf2dm"}),n=(0,o.yM)({loc:{file:P,line:19,column:34},name:"startWatchingMessages",sid:"-5y34bm"}),r=(0,o.yM)({loc:{file:P,line:20,column:33},name:"stopWatchingMessages",sid:"-k4g1pz"}),s=(0,o.MR)({sid:"-orgp2z",fn:function(){return(0,i.F)({timeout:3e4,leading:!1,trailing:!1,start:n,stop:r})},name:"_interval",method:"interval",loc:{file:P,line:22,column:21}}).tick,u=x(),d=_(t),h=f(s),m=(0,o.ub)({and:{source:l.C.$contestId,effect:function(e,t){return e?(0,a.bf)({contestId:e,previousMessageId:t}):null}},or:{loc:{file:P,line:34,column:30},name:"getChatMessagesFx",sid:"-a54ndu"}});return(0,o.UP)({and:[{clock:[s,c.lp],source:e,target:m}],or:{loc:{file:P,line:45,column:4},sid:"-ca2941"}}),(0,o.UP)({and:[{clock:l.Q.open,target:n}],or:{loc:{file:P,line:51,column:4},sid:"-bv7t3a"}}),(0,o.UP)({and:[{clock:l.Q.close,target:r}],or:{loc:{file:P,line:52,column:4},sid:"-buo0hx"}}),(0,o.UP)({and:[{clock:d.messagesRead,target:t}],or:{loc:{file:P,line:54,column:4},sid:"-btkfb7"}}),u.$messageError.on(m.doneData,function(){return""}),(0,o.UP)({and:[{clock:u.sendMessageFx.doneData,source:e,target:m}],or:{loc:{file:P,line:61,column:4},sid:"-be66p3"}}),(0,o.UP)({and:[{clock:m.doneData,source:t,fn:function(e,t){return e.reduce(function(e,t){return e.find(function(e){return e.id===t.id})||e.push(t),e},null==t?void 0:t.messages)},target:t}],or:{loc:{file:P,line:67,column:4},sid:"-bavf4x"}}),(0,o.UP)({and:[{clock:m.doneData,filter:function(e){return!!e&&Number(null==e?void 0:e.lastMessageId)>0},fn:function(e){return null==e?void 0:e.lastMessageId},target:e}],or:{loc:{file:P,line:82,column:4},sid:"-afj5bc"}}),(0,o.UP)({and:[{clock:t,source:d.$openMessage,filter:function(e){return!!e},fn:function(e,t){return t.find(function(t){return t.id===(null==e?void 0:e.id)})||e},target:d.$openMessage}],or:{loc:{file:P,line:89,column:4},sid:"-abol5t"}}),N(N(N({$chatMessages:t,$lastMessageId:e},u),d),h)})},21536:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});var r=function(e){return e.reduce(function(e,t){return t.seen||(e+=1),t.answers.forEach(function(t){t.seen||(e+=1)}),e},0)}},94701:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=n(67294),o=n(86388),i=function(e){var t=(0,r.useRef)(null),n=(0,r.useState)(!1),i=n[0],s=n[1],a=(0,r.useState)(!1),l=a[0],c=a[1],u=(0,r.useState)(!1),d=u[0],f=u[1],h=(0,r.useCallback)(function(){if(t.current){var n=t.current,r=n.scrollWidth,o=n.offsetWidth,i=n.scrollHeight,a=n.offsetHeight,l=n.scrollTop,u=n.scrollLeft,d="horizontal"===e?r:i,h="horizontal"===e?o:a,m="horizontal"===e?u:l,p=d>h;if(f(p),!p){s(!1),c(!1);return}s(m>0),c(m<d-h)}},[e]);return(0,r.useEffect)(function(){h();var e=t.current;return e&&(null==e||e.addEventListener("scroll",h)),function(){e&&e.removeEventListener("scroll",h)}},[h]),(0,o.Z)({ref:t,onResize:h}),{containerRef:t,firstFade:i,lastFade:l,hasScroll:d}}},99712:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});var r=function(e){return Array.isArray(e)?e[0]:e}},56579:function(e){e.exports={Duration:"Duration_Duration__7CFVh","Duration-Time":"Duration_Duration-Time__N8MJR","Duration-Slot":"Duration_Duration-Slot__uY8sm",Duration_size_s:"Duration_Duration_size_s__KcHZa",Duration_size_m:"Duration_Duration_size_m__QhqSL","Duration-Skeleton":"Duration_Duration-Skeleton__g6Zu8"}},81007:function(e){e.exports={"RadialProgress-Wrapper":"RadialProgress_RadialProgress-Wrapper__PXJaz","RadialProgress-Outer":"RadialProgress_RadialProgress-Outer__wmRuy","RadialProgress-GradientSvg":"RadialProgress_RadialProgress-GradientSvg__1cK3U","RadialProgress-GradientBackground":"RadialProgress_RadialProgress-GradientBackground__37vKb","RadialProgress-GradientCircle":"RadialProgress_RadialProgress-GradientCircle__uiiYr","RadialProgress-Value":"RadialProgress_RadialProgress-Value__57JR4","RadialProgress-ThresholdSource":"RadialProgress_RadialProgress-ThresholdSource__gZ29t","RadialProgress-Threshold":"RadialProgress_RadialProgress-Threshold__IM2wF","RadialProgress-Tooltip":"RadialProgress_RadialProgress-Tooltip__z1pZK"}},11832:function(e){e.exports={TabSet:"TabSet_TabSet__vrm6i"}},13589:function(e){e.exports={"ContestHeader-Content":"ContestHeader_ContestHeader-Content__bhErd","ContestHeader-Widgets":"ContestHeader_ContestHeader-Widgets__ysrfC","ContestHeader-Actions":"ContestHeader_ContestHeader-Actions__djdpd","ContestHeader-Menu":"ContestHeader_ContestHeader-Menu__rBhKO","ContestHeader-Timer":"ContestHeader_ContestHeader-Timer__tR6jv","ContestHeader-Timer_fader":"ContestHeader_ContestHeader-Timer_fader__yyYPB","ContestHeader-ServiceLogo":"ContestHeader_ContestHeader-ServiceLogo__zZElC"}},36276:function(e){e.exports={ContestLayout:"ContestLayout_ContestLayout__oa8FN","ContestLayout-Main":"ContestLayout_ContestLayout-Main__dOCoO","ContestLayout-Content":"ContestLayout_ContestLayout-Content__qV_X4","ContestLayout-Footer":"ContestLayout_ContestLayout-Footer__Pfu_M"}},50199:function(e){e.exports={"ContestMenu-DesktopContainer":"ContestMenu_ContestMenu-DesktopContainer__W9zRt",ContestMenu:"ContestMenu_ContestMenu__CzUdL",ContestMenu_mobile:"ContestMenu_ContestMenu_mobile__zMyyx",ContestMenu_hidden:"ContestMenu_ContestMenu_hidden__Z7hXY","ContestMenu-Divider":"ContestMenu_ContestMenu-Divider__2SHIV","ContestMenu-TabsMenu":"ContestMenu_ContestMenu-TabsMenu__Zf8HJ","ContestMenu-DrawerTabsMenu":"ContestMenu_ContestMenu-DrawerTabsMenu__FVdzf","ContestMenu-Nav":"ContestMenu_ContestMenu-Nav__vE3Ky","ContestMenu-Nav_overflow_hidden":"ContestMenu_ContestMenu-Nav_overflow_hidden__VjICX","ContestMenu-Link":"ContestMenu_ContestMenu-Link__q9AFH","ContestMenu-Title":"ContestMenu_ContestMenu-Title__67ddW","ContestMenu-Control":"ContestMenu_ContestMenu-Control__QIWWS","ContestMenu-Control_hasMobileBack":"ContestMenu_ContestMenu-Control_hasMobileBack__yKdmB","ContestMenu-TextControl":"ContestMenu_ContestMenu-TextControl__ZeCgw","ContestMenu-IconControl":"ContestMenu_ContestMenu-IconControl__6dG__","ContestMenu-IconControl_visible":"ContestMenu_ContestMenu-IconControl_visible__nsRm5","ContestMenu-DrawerContent":"ContestMenu_ContestMenu-DrawerContent__ML4xw","ContestMenu-DrawerTitle":"ContestMenu_ContestMenu-DrawerTitle__u_gvQ"}},41602:function(e){e.exports={FinishModal:"FinishModal_FinishModal__IoSu_","FinishModal-Inner":"FinishModal_FinishModal-Inner__FS0bT","FinishModal-Inner_interface_ICPC":"FinishModal_FinishModal-Inner_interface_ICPC__q36UI","FinishModal-Title":"FinishModal_FinishModal-Title__QD_Dh","FinishModal-Header":"FinishModal_FinishModal-Header__9FtjY","FinishModal-Header_interface_ICPC":"FinishModal_FinishModal-Header_interface_ICPC__GVsfJ","FinishModal-Subtitle":"FinishModal_FinishModal-Subtitle__ALco8","FinishModal-CloseButton":"FinishModal_FinishModal-CloseButton__WPA_C","FinishModal-Content":"FinishModal_FinishModal-Content__1_LpL","FinishModal-Content_interface_ICPC":"FinishModal_FinishModal-Content_interface_ICPC__eou8h","FinishModal-Progress":"FinishModal_FinishModal-Progress__DthHC","FinishModal-ContentTitle":"FinishModal_FinishModal-ContentTitle__Rhis4","FinishModal-Table":"FinishModal_FinishModal-Table__QbjYD","FinishModal-Table_interface_ICPC":"FinishModal_FinishModal-Table_interface_ICPC__l7Mrx","FinishModal-Row":"FinishModal_FinishModal-Row__0sZaY","FinishModal-Row_interface_ICPC":"FinishModal_FinishModal-Row_interface_ICPC__gBUyh","FinishModal-TimeLeft":"FinishModal_FinishModal-TimeLeft__1FIK7","FinishModal-Footer":"FinishModal_FinishModal-Footer__psEv6","FinishModal-Footer_interface_ICPC":"FinishModal_FinishModal-Footer_interface_ICPC__7hz28","FinishModal-FooterItem":"FinishModal_FinishModal-FooterItem__3i9zw"}},91002:function(e){e.exports={FinishButton:"FinishBotton_FinishButton__y72dM","FinishButton-ShortLabel":"FinishBotton_FinishButton-ShortLabel__O7P1x","FinishButton-FullLabel":"FinishBotton_FinishButton-FullLabel__Lg2iH"}},74770:function(e){e.exports={Circle:"Circle_Circle__y7E1f"}},80922:function(e){e.exports={JuryNotificationMessage:"JuryNotificationMessage_JuryNotificationMessage__ZPx2_","JuryNotificationMessage-Header":"JuryNotificationMessage_JuryNotificationMessage-Header__yzuZq"}},57301:function(e){e.exports={"JuryNotifications-Wrapper":"JuryNotifications_JuryNotifications-Wrapper__Ram2h","JuryNotifications-Circle":"JuryNotifications_JuryNotifications-Circle__fYRqw"}},88356:function(e){e.exports={JuryNotificationsPopup:"JuryNotificationsPopup_JuryNotificationsPopup__oOl7S","JuryNotificationsPopup-Message":"JuryNotificationsPopup_JuryNotificationsPopup-Message__Mpfr7","JuryNotificationsPopup-EmptyMessagesText":"JuryNotificationsPopup_JuryNotificationsPopup-EmptyMessagesText__aJ_EA","JuryNotificationsPopup-MessageSkeleton":"JuryNotificationsPopup_JuryNotificationsPopup-MessageSkeleton___O9Vg"}},5809:function(e){e.exports={Timer:"Timer_Timer__evLEk","Timer-Icon":"Timer_Timer-Icon__0v9bn"}}}]);